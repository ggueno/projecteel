{% extends "layout/base.html" %}
{% load staticfiles %}


{% block title %} Projects {% endblock %}
{% block content %}

    <div class="row wrapper">
        <h1 class="heading">Projects</h1>

        <div class="sorting threecol">


            <div class="sleekbox PTform">

                <select class="search-field" id="search-categories" name="search-categories">
                    <option value="all">Tous les catégories</option>
                    {% for categorie in categories %}
                    <option value="{{categorie.slug}}">{{categorie.name}}</option>
                    {% endfor %}
                </select>

                <select class="search-field" id="search-filter" name="search-filter">
                    <option value="pushs">Les plus pushés</option>
                    <!-- <option value="views">Les plus vues</option> -->
                    <option value="comments">Les plus commentés</option>
                    <option value="recents">Les plus récents</option>
                </select>

                <select class="search-field" id="search-when" name="search-when">
                    <option value="1">Aujourd'hui</option>
                    <option value="7">Cette semaine</option>
                    <option value="30">Ce mois</option>
                    <option value="0" selected>Toujours</option>
                </select>

                <form action="/projects/search/" class="project-search" method="get">
                {% csrf_token %}
                <input class="search-field" id="search-query" type="text" name="query">
                <input type="submit">
                </form>

                <form action="" id="projectFilters">
                    <ul class="filters">
                        <li class="tag">
                            <span class="ideal-field">
                            <input class="search-field autocomplete" id="search-tags" type="text" name="keywords-sorting">
                            </span>
                        </li>
                        <li class="region">
                            <span class="ideal-field">
                            <input class="search-field autocomplete" id="search-location" type="text" name="location">
                            </span>
                        </li>
                        <li class="tag">
                            <span class="ideal-field">
                            <input class="search-field range" type="text" id="search-durationmin">
                            <input class="search-field range" type="text" id="search-durationmax">
                            </span>
                        </li>
                        <li class="tag">
                            <span class="ideal-field">
                            <input class="search-field autocomplete" type="text" id="search-skills" >
                            </span>
                        </li>
                    </ul>

            </div>
        </div>

        <div class="list-offers eightcol">
            <form action="/projects/search/" class="search-form project-search" method="get">
                {% csrf_token %}
                <input class="search-field" id="search-query" type="text" name="query">
                <input type="submit">
            </form>


            {% include endless_part %}

        </div>
    </div>
{% endblock %}

{% block js %}
    <script src="{{ STATIC_URL }}js/jquery.autoSuggest.minified.js"></script>
    <script src="{{ STATIC_URL }}endless_pagination/js/endless-pagination.js"></script>
    <script src="{{ STATIC_URL }}js/search-engine.js"></script>
    <script>
        $.endlessPaginate({
            paginateOnScroll: true,
            paginateOnScrollMargin: 20
        });

        $().ready(function(){
            searchEngine.init();
        });

    </script>
{% endblock %}
